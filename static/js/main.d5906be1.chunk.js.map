{"version":3,"sources":["components/TestRoute.js","components/Login.js","App.js","reportWebVitals.js","index.js"],"names":["TestRoute","className","Login","signup","login","useState","username","setUsername","password","setPassword","newUsername","setNewUsername","newPassword","setNewPassword","onSubmit","e","preventDefault","handleSubmitLogin","placeholder","type","value","onChange","target","handleSubmitSignup","App","loggedIn","setLoggedIn","setUser","url","useEffect","token","localStorage","getItem","console","log","fetch","method","headers","Authorization","then","response","ok","json","data","user","basename","process","to","exact","path","Accept","body","JSON","stringify","jwt","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5906be1.chunk.js","sourcesContent":["function TestRoute() {\n    return (\n        <div className=\"App\">\n            <h1>Hello TestRoute</h1>\n        </div>\n    )\n}\n\n\nexport default TestRoute;","import { useState } from 'react';\n\nexport default function Login({signup, login}) {\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [newUsername, setNewUsername] = useState('')\n    const [newPassword, setNewPassword] = useState('')\n\n    function handleSubmitSignup(e) {\n        e.preventDefault()\n        signup(newUsername, newPassword)\n    }\n\n    function handleSubmitLogin(e) {\n        e.preventDefault();\n        login(username, password)\n    }\n\n    return (\n        <div className=\"login\">\n                <div className=\"title\">\n                    <h1>National Parks Planner</h1>\n                </div>\n                <form onSubmit={(e) => handleSubmitLogin(e)}>\n                <input\n                    placeholder=\"username\"\n                    type=\"text\"\n                    value={username}\n                    onChange={(e) => setUsername(e.target.value)}\n                />\n                <input\n                    placeholder=\"password\"\n                    type=\"text\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                />\n                <button type=\"submit\">Login</button>\n                </form>\n    \n                <form onSubmit={(e) => handleSubmitSignup(e)}>\n                <input\n                    placeholder=\"username\"\n                    type=\"text\"\n                    value={newUsername}\n                    onChange={(e) => setNewUsername(e.target.value)}\n                />\n                <input\n                    placeholder=\"password\"\n                    type=\"text\"\n                    value={newPassword}\n                    onChange={(e) => setNewPassword(e.target.value)}\n                />\n                \n                <button type=\"submit\">Create Account</button>\n                </form>\n            </div>\n    )\n}\n\n\n","import './App.css';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport TestRoute from \"./components/TestRoute\";\nimport Login from \"./components/Login\";\nimport { useState, useEffect } from 'react';\n\nfunction App() {\n\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [user, setUser] = useState([])\n\n  const production = 'https://backend-national-park-planner.herokuapp.com';\n  const development = 'http://localhost:3000';\n  const url = (process.env.NODE_ENV ? production : development)\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n    console.log(\"token: \" + token)\n    \n    fetch(`${url}profile`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }).then((response) => {\n      if (response.ok) {\n        response.json().then((data) => {\n          setLoggedIn(true)\n          setUser(data.user)\n        });\n      } else {\n        console.log(\"please log in\")\n      }\n    });\n  }, []);\n\n    function signup(username, password) {\n      fetch(`${url}/users`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        },\n        body: JSON.stringify({\n          user: {\n            username: `${username}`,\n            password: `${password}`,\n          },\n        }),\n      })\n        .then((response) => {\n          if (response.ok) {\n            response.json().then((data) => {\n              setUser(data.user)\n              setLoggedIn(true)\n              localStorage.setItem(\"jwt\", data.jwt);\n            });\n          } else {\n            console.log(\"form incorrectly filled out\")\n          }\n        })\n    }\n  \n    function login(username, password) {\n      fetch(`${url}/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        },\n        body: JSON.stringify({\n          user: {\n            username: `${username}`,\n            password: `${password}`\n          }\n        })\n      }).then((response) => {\n        if (response.ok) {\n          response.json().then((data) => {\n            console.log(\"hi\" + data.jwt)\n            setUser(data.user)\n            setLoggedIn(true)\n            localStorage.setItem(\"jwt\", data.jwt);\n          });\n        } else {\n          console.log(\"wrong username/password\")\n        }\n      })\n    }\n  \n  \n    function logout() {\n      localStorage.clear()\n      setUser(null)\n      setLoggedIn(false)\n    }\n  \n  \n\n  return (\n    <div className=\"app\">\n      {loggedIn ? \n        <Router basename={process.env.PUBLIC_URL}>\n          <div className=\"nav-bar\">\n            <nav>\n              <Link to=\"/\">TestRoute</Link>\n            </nav>\n          </div>\n          <Switch>\n            <Route exact path=\"/\">\n              <TestRoute />\n            </Route>\n          </Switch>\n        </Router> \n        :\n        <Login login={login} signup={signup}/>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
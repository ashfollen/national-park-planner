(this["webpackJsonpnational-park-planner"]=this["webpackJsonpnational-park-planner"]||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),s=n.n(r),o=(n(114),n(107)),i=n(10),l=(n(115),n(116),n(117),n(20)),j=n(13),d=(n(118),n(76)),u=n.n(d),h=n(93),p=n(90),O=n(88),b=n(35),g=n(87),f=(n(139),n.p+"static/media/parks-collage.e8209b12.png"),m=n(1);var x=function(e){return e.user,Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("img",{className:"home-img",src:f}),Object(m.jsx)(l.b,{to:"/parks-page",children:Object(m.jsx)("div",{className:"begin-exploring",children:Object(m.jsx)("div",{className:"overlay-text",children:Object(m.jsx)("h1",{children:"Begin Exploring. . ."})})})})]})},v=n.p+"static/media/zion.c59eda44.jpeg";function k(e){var t=e.signup,n=e.login,c=Object(a.useState)(""),r=Object(i.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(""),j=Object(i.a)(l,2),d=j[0],u=j[1],h=Object(a.useState)(""),p=Object(i.a)(h,2),O=p[0],b=p[1],g=Object(a.useState)(""),f=Object(i.a)(g,2),x=f[0],k=f[1];return Object(m.jsxs)("div",{className:"login",children:[Object(m.jsx)("img",{className:"bg",src:v}),Object(m.jsxs)("div",{className:"login-form",children:[Object(m.jsx)("div",{className:"title",children:Object(m.jsx)("h1",{children:"National Parks Planner"})}),Object(m.jsxs)("div",{className:"login-forms",children:[Object(m.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),n(s,d)}(e)},children:[Object(m.jsx)("input",{placeholder:"username",type:"text",value:s,onChange:function(e){return o(e.target.value)}}),Object(m.jsx)("input",{placeholder:"password",type:"password",value:d,onChange:function(e){return u(e.target.value)}}),Object(m.jsx)("button",{type:"submit",children:"LOGIN"})]}),Object(m.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(O,x)}(e)},children:[Object(m.jsx)("input",{placeholder:"username",type:"text",value:O,onChange:function(e){return b(e.target.value)}}),Object(m.jsx)("input",{placeholder:"password",type:"password",value:x,onChange:function(e){return k(e.target.value)}}),Object(m.jsx)("button",{type:"submit",children:"CREATE ACCOUNT"})]})]})]})]})}var C=function(e){var t=e.park,n=e.viewCampgrounds,a=e.viewToDos;return Object(m.jsxs)("div",{className:"park-card",children:[Object(m.jsx)("img",{width:"200",src:t.images[0].url}),Object(m.jsx)("h2",{children:t.fullName}),Object(m.jsxs)("h3",{children:[t.addresses[0].city,", ",t.addresses[0].stateCode]}),Object(m.jsx)(l.b,{to:"/campgrounds-page",children:Object(m.jsx)("button",{id:t.parkCode,onClick:function(e){return n(e.target.id)},children:"View Campgrounds"})}),Object(m.jsx)(l.b,{to:"/todos-page",children:Object(m.jsx)("button",{id:t.parkCode,onClick:function(e){return a(e.target.id)},children:"View ToDos"})})]})};var S=function(e){var t=e.filteredParks,n=e.viewCampgrounds,a=e.viewToDos;return Object(m.jsx)("div",{children:t.map((function(e){return Object(m.jsx)(C,{park:e,viewCampgrounds:n,viewToDos:a},e.id)}))})};var E=function(e){var t=e.parks,n=e.viewCampgrounds,c=e.viewToDos,r=Object(a.useState)(""),s=Object(i.a)(r,2),o=s[0],l=s[1],j=t.filter((function(e){return e.fullName.toLowerCase().includes(o.toLowerCase())}));return console.log(j),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Search for a National Park"}),Object(m.jsx)("input",{type:"search",placeholder:"Search for a National Park",onChange:function(e){l(e.target.value),console.log(e.target.value)}}),Object(m.jsx)(S,{filteredParks:j,viewCampgrounds:n,viewToDos:c}),Object(m.jsx)("div",{className:"parks-page",children:t.map((function(e){return Object(m.jsx)(C,{park:e,viewCampgrounds:n,viewToDos:c},e.id)}))})]})},A=n(43),D=n.n(A);var w=function(e){var t=e.campground,n=e.user,c=e.handleResData,r=Object(a.useState)(new Date),s=Object(i.a)(r,2),o=s[0],l=s[1],j=Object(a.useState)(new Date),d=Object(i.a)(j,2),u=d[0],h=d[1],p=Object(a.useState)({}),O=Object(i.a)(p,2),b=(O[0],O[1]);return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Start Date:"}),Object(m.jsx)(D.a,{selected:o,selectsStart:!0,startDate:o,endDate:u,onChange:function(e){return l(e)}}),Object(m.jsx)("p",{children:"End Date:"}),Object(m.jsx)(D.a,{selected:u,selectsEnd:!0,startDate:o,endDate:u,minDate:o,onChange:function(e){return h(e)}}),Object(m.jsx)("button",{onClick:function(){var e={title:"".concat(t.name),category:"campground",start:o,end:u,user_id:"".concat(n.id)};b(e),console.log(e),c(e)},children:"Add to Itinerary"})]})};var I=function(e){var t=e.campground,n=e.user,a=e.handleResData;return console.log("CG CARD",t),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"cg-card",children:[Object(m.jsx)("img",{width:"200",src:t.images[0]?t.images[0].url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAdVBMVEX///8AAADc4N/r7e3d4eD5+vr09fWsrKzk5+dgYGDo6+r5+fm9vb3y8vJMTEzBwcHZ2dmYmJiKioqBgYFnZ2fV1dVAQEAJCQmlpaXMzMyRkZFxcXF3d3dWVlY8PDyioqIiIiIfHx8WFhYtLS01NTVTU1MRERGgPI/SAAAHrklEQVR4nO2daVucShCFbTaRCYlbjJqYaKL3///EKzD7UFQvp4rpfjgfjM84mep3eisOBVxcUFqVEemzsSTIiMq2KbL4VDStFWaZx0i3UZFzkGUzdxuDVa+mAOu5mwdRQ/JVuzfVTV7FpTbf655qHHA7QPPJfj5jVc1kN64XmKLVbhdU7RqjPv3T+i9x83XK1z11/HpBkcensh5DrJlFKC41p901vJTP1SK48mOeKjHADeJu00hqiA5qDqZiPrr2RK5ib1iWfRc6HX1EoIFq+L1JbRIOyndYe7BJacvVptmF607sltM60S4cZmK37SeTrZ1o3XfVxPFU5GqHPSJPdZBeXKyGg6U6wd1+oyFVq5OdhkNeU/c/00pJd2r68ZnqbtgpfcJhFS0Wwog1E+GNXrR5CEtzpxZrHsJnY9TCzUJYGWN+aQWbhfDuk9Bo5VBzELYdoLlXijYH4a+e0Cil+jMQ5gOguVIKp094vyY031XC6RMWG0DzVSWePuHVltA8acRTJ7zeAZoHjYDqhB97hOabQkBtwqd9QPNPIaI24cMBofkiH1GZ8NshoPkrH1KZ8P2I0FyKh9Ql/HIMaH6Ix9QlfD0hNI/SMVUJL08BjZEOqkr43xjhjXBQTcLRLjRGuERQk3Ac0NzKRlUk/EMQCneiHmFJAQo7i3qEzyShrLOoRtjSgOanZGA1wrsJQlFnUYtwqgtlnUUtwl+ThOZaLrISYT0NaF7kQisR3jOEgs6iDmHBAQo6izqEVyyhnLOoQnjNA5rfUsFVCL9aEIo5ixqETzyekXMWNQgfeLxOQs6iAuGxg0jpTSa8AuGJg0hJxlmUJzx1EEmJxJcnfLMn/CMRX5yQsJ/GJXFFizjhXxdCCWdRmvDRBVDElJImdAOUcBaFCW8cCQ3+EmRZwpUroICzKEs44SBSgjdDlLByB8Q7i6KEkw4iJbSzKEmY8zgjQpe7SRIyDiIlsLMoSMg5iJTAzqIg4U9PQrCzKEfIO4iUsM6iHKGFg0gJ6iyKEdo4iJSgppQYoZWDSAlpSkkR2jmIGp0oRWjpIFICmlJChLYOIiVguZsQ4UgBm5tw5W4yhA4OIiVYW2QIg7sQ6CyKEPIO4i3/HaBMKRHCH2zzLTy4Z1BjJAj51t/YfAug+3RIELJt75YRfiSDTCkBQt5B7LcCfiZiWoQn5B3EYTvndxTMhbR4wlu25euU7B/7RsitOuCEvIO4uYqEz+wg5W5wQt5B3B4a8dk54q5AaELeQXzfvpc/wkKYUmhC3kHcq5vhj5IBziKYkHcQ3/fezTsdH+FNAhOyNYiHLhPvVoWbUlhCvlMOnULecQwvd8MSvrAtPnJ7edc4uNwNSsh34fHi6DZvvQQl/GDbe7I28mtvqLOIJOT3t9Mkhd8/XwNbhST8zbZ25OwnnwMFOotAQj7PHDuDzeexgc4ikJCvQRwNwVczhDmLOEL+eG/8oN2iIiWoXTjCN7ahRDUQeV3iVkHlbjBCCweR+q98J4bULMIIee+MNEBlnUUUoZWDSImv0Awod0MRsm2cGmmiziKIkHcQJ89D8M6ifydiCENXfElnEUNo7SBS4rMF73I3COH0JbCduPvQCDqLEEIHB5GSnLOIIOS78JX9DP7Iy7dmEUEIsSL4o2fPcjcAIe9E2NhJriaWtQCEjg4iJSlnMZwQ9eXzzqLfLfrCCZ0dREr8WPByFoMJv7Ptsj29ws9nr3K3YELg2RUZZzGU0MdBpBSeGo0plNDLQaQk4iwGEvo5iJREnMVAQr7awOljJZzFMEJfB5ESfbesrZzbGEbIGyyOpVsCzmIQYYCDSInvRNeaxSDCAAeREv5LCyEUMatH7x55IMeBH0LItsXnhAPcWQwgDHQQKaFrFv0JpU78YZOIEMJgB5ES2Fn0JpRJkzshk/mLAEKAg0gJ6yz6EvI1FP5XZ2FrFn0JRYuZYMZIJ09CjINIKWM/3cFZ9CQULioEGZS9/Ah5BzHs4Rz8ELH/fD9CMQt+I+A09yLEOYhks9gIr9Yf5UOoUGSP2259COXOhO3Ep0y2t+jzIeQdRMADx2BprwchOvkfF6zczYPwjQ0NKfvnnUW7w093QrULB/lOtCp3cyfkuxB0RzKQDeRMKOAgUsJYec6EbFTcnQExX6YroXC566EgNYuOhBYnFoB36IScFnEkRC3hlkKc2nIj5Lfh11CoA/H5IZ9cMIQvVwfiU+73+yug+CNhc/D+l5EDY4aQj3BeGjngWAgj00K4EJ6/FsKF8PzlTngZlx5Hzp0qPv9wJi2E8WshjF8LYfxaCOPXQhi/FsL4tRDGr4Uwfi2E8asjLHpCyC1tz1BNT1h//pR8Rv2cGtjqnjNNDeNzmI1pKuvXmKr7B3SX9zPTGq3Mkl1M++FZDoM1zYm4IctTHabVZnT2wzTF/aJeD9KhMzOJBw7Pq1W2nX5Vmp1Y7M2+/nf8s2rnVZ7traB9J2YCz1SeUeUhU50lt2MUR1OvSA2xB9pPRoc+TQexOJ137YCYxp5RDoBHa2e/9KSRoFIo69eL2PO3qiD7ahiokTNu+Ma399Xmr1nTxjghy7bZABTU5p5nOxV1XCr22j7hrK3qLH7V0wOwjJ2xtsg+23gh65EF5n9iP3pAqYfqOgAAAABJRU5ErkJggg=="}),Object(m.jsx)("h2",{children:t.name}),Object(m.jsx)("p",{children:t.description}),Object(m.jsxs)("p",{children:["Total Sites: ",t.campsites.totalSites]}),Object(m.jsx)(w,{campground:t,user:n,handleResData:a})]})})};var R=function(e){var t=e.parkCampgrounds,n=e.user,a=e.handleResData;return console.log("HOW MANY CGS",t.length),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(l.b,{to:"/parks-page",children:Object(m.jsx)("div",{className:"back-to-parks",children:Object(m.jsx)("h2",{children:"Back to Parks"})})}),Object(m.jsx)("div",{className:"cgs-page",children:t.length>0?t.map((function(e){return Object(m.jsx)(I,{campground:e,user:n,handleResData:a},e.id)})):Object(m.jsx)("h2",{children:"Sorry, no campgrounds at this park."})})]})};var J=function(e){var t=e.toDo,n=e.user,c=e.handleResData,r=Object(a.useState)(new Date),s=Object(i.a)(r,2),o=s[0],l=s[1],j=Object(a.useState)({}),d=Object(i.a)(j,2),u=(d[0],d[1]);return Object(m.jsxs)("div",{children:[Object(m.jsx)(D.a,{selected:o,onChange:function(e){return l(e)}}),Object(m.jsx)("button",{onClick:function(){var e={title:"".concat(t.title),category:"to-do",start:o,end:o,user_id:"".concat(n.id)};u(e),console.log(e),c(e)},children:"Add to Itinerary"})]})},N=n.p+"static/media/picnic-icon.13448af6.png";var y=function(e){var t=e.toDo,n=e.user,a=e.handleResData;return Object(m.jsxs)("div",{className:"todo-card",children:[Object(m.jsx)("img",{width:"200",src:t.images[0]?t.images[0].url:N}),Object(m.jsx)("h1",{children:t.title}),Object(m.jsx)("p",{children:t.shortDescription}),Object(m.jsx)("h4",{children:"Add to Itinerary: "}),Object(m.jsx)(J,{toDo:t,user:n,handleResData:a})]})};var B=function(e){var t=e.parkToDos,n=e.user,a=e.handleResData;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(l.b,{to:"/parks-page",children:Object(m.jsx)("div",{className:"back-to-parks",children:Object(m.jsx)("h2",{children:"Back to Parks"})})}),Object(m.jsx)("div",{className:"todos-page",children:t.length>0?t.map((function(e){return Object(m.jsx)(y,{toDo:e,user:n,handleResData:a},e.id)})):Object(m.jsx)("h2",{children:"Sorry, you'll have to find your own adventures!"})})]})};var T=function(e){var t=e.reservation,n=e.deleteRes;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("h2",{children:[t.title," from ",t.start," through ",t.end]}),Object(m.jsx)("button",{onClick:function(e){n(t.id)},children:"Cancel"})]})};var Q=function(e){var t=e.reservation,n=e.deleteRes;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("h3",{children:[t.title," on ",t.start]}),Object(m.jsx)("button",{onClick:function(e){n(t.id)},children:"Cancel"})]})};var z=function(e){var t=e.reservations,n=e.deleteRes;console.log("IN ITINERARY",t);var a=t.filter((function(e){return"campground"===e.category})),c=t.filter((function(e){return"to-do"===e.category}));return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Camping"}),a.map((function(e){return Object(m.jsx)(T,{reservation:e,deleteRes:n},e.id)})),Object(m.jsx)("h2",{children:"To Do"}),c.map((function(e){return Object(m.jsx)(Q,{reservation:e,deleteRes:n},e.id)}))]})},F=n.p+"static/media/NPS-logo.0761c9c4.png",U={"en-US":n(50)},P=Object(h.b)({format:p.default,parse:O.default,startOfWeek:b.default,getDay:g.default,locales:U});var L=function(){var e="https://backend-national-park-planner.herokuapp.com",t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)({}),d=Object(i.a)(s,2),p=d[0],O=d[1],b=Object(a.useState)([]),g=Object(i.a)(b,2),f=g[0],v=g[1],C=Object(a.useState)([]),S=Object(i.a)(C,2),A=S[0],D=S[1],w=Object(a.useState)([]),I=Object(i.a)(w,2),J=I[0],N=I[1],y=Object(a.useState)([]),T=Object(i.a)(y,2),Q=T[0],U=T[1],L=Object(a.useState)([]),M=Object(i.a)(L,2),V=M[0],Y=M[1],H=Object(a.useState)([]),K=Object(i.a)(H,2),q=K[0],Z=K[1];function G(t){var n=localStorage.getItem("jwt");fetch("".concat(e,"/reservations"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n),Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log("CREATE RES",e),Z([].concat(Object(o.a)(q),[e]))})),console.log("RESERVATIONS",q)}return Object(a.useEffect)((function(){u.a.get("".concat("https://developer.nps.gov/api/v1/parks?limit=465&","api_key=").concat("thkeeIt0BOw7KPpCHjwoESUud4rkQAqtiVJSqVUh")).then((function(e){v(e.data.data.filter((function(e){return"National Park"===e.designation})))}))}),[]),Object(a.useEffect)((function(){u.a.get("".concat("https://developer.nps.gov/api/v1/campgrounds?limit=642&","api_key=").concat("thkeeIt0BOw7KPpCHjwoESUud4rkQAqtiVJSqVUh")).then((function(e){return D(e.data.data)}))}),[]),Object(a.useEffect)((function(){u.a.get("".concat("https://developer.nps.gov/api/v1/thingstodo?limit=2500&","api_key=").concat("thkeeIt0BOw7KPpCHjwoESUud4rkQAqtiVJSqVUh")).then((function(e){U(e.data.data.filter((function(e){return void 0!==e.relatedParks[0]&&"National Park"===e.relatedParks[0].designation})))}))}),[]),Object(a.useEffect)((function(){var t=localStorage.getItem("jwt");console.log("token: "+t),fetch("".concat(e,"/profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e.ok?e.json().then((function(e){r(!0),O(e.user),console.log("PROFILE",e.user)})):console.log("please log in")}))}),[]),Object(a.useEffect)((function(){var t=localStorage.getItem("jwt");fetch("".concat(e,"/reservations"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e.ok?e.json().then((function(e){return Z(e)})):console.log("please log in to access reservations")}))}),[]),console.log("AFTER FETCH",q),Object(m.jsx)("div",{className:"app",children:c?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(l.a,{basename:"/national-park-planner",children:[Object(m.jsx)("div",{className:"select-page",children:Object(m.jsxs)("nav",{children:[Object(m.jsx)("img",{className:"nps-logo",src:F}),Object(m.jsx)(l.b,{to:"/",children:"home"}),Object(m.jsx)(l.b,{to:"/parks-page",children:"parks"}),Object(m.jsx)(l.b,{to:"/itinerary-page",children:"itinerary"}),Object(m.jsx)(l.b,{to:"/calendar-page",children:"calendar"}),Object(m.jsx)("button",{className:"logout-button",onClick:function(){localStorage.clear(),O(null),r(!1)},children:"Logout"})]})}),Object(m.jsxs)(j.c,{children:[Object(m.jsx)(j.a,{exact:!0,path:"/",children:Object(m.jsx)(x,{user:p})}),Object(m.jsx)(j.a,{path:"/parks-page",children:Object(m.jsx)(E,{parks:f,viewCampgrounds:function(e){N(A.filter((function(t){return t.parkCode===e})))},viewToDos:function(e){Y(Q.filter((function(t){return t.relatedParks[0].parkCode===e})))}})}),Object(m.jsx)(j.a,{path:"/campgrounds-page",children:Object(m.jsx)(R,{parkCampgrounds:J,user:p,handleResData:G})}),Object(m.jsx)(j.a,{path:"/todos-page",children:Object(m.jsx)(B,{parkToDos:V,user:p,handleResData:G})}),Object(m.jsx)(j.a,{path:"/itinerary-page",children:Object(m.jsx)(z,{reservations:q.filter((function(e){return e.user_id===p.id})),deleteRes:function(t){var n=localStorage.getItem("jwt");fetch("".concat(e,"/reservations/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n),Accept:"application/json"}}),Z(q.filter((function(e){return e.id!==t})))}})}),Object(m.jsx)(j.a,{path:"/calendar-page",children:Object(m.jsx)(h.a,{localizer:P,events:q,startAccessor:"start",endAccessor:"end",style:{height:500,margin:"50px"}})})]})]})}):Object(m.jsx)(k,{login:function(t,n){fetch("".concat(e,"/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(t),password:"".concat(n)}})}).then((function(e){e.ok?e.json().then((function(e){console.log(e.jwt),console.log("USER:",e.user),O(e.user),r(!0),localStorage.setItem("jwt",e.jwt)})):console.log("wrong username/password")}))},signup:function(t,n){fetch("".concat(e,"/users"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(t),password:"".concat(n)}})}).then((function(e){e.ok?e.json().then((function(e){O(e.user),r(!0),localStorage.setItem("jwt",e.jwt)})):console.log("form incorrectly filled out")}))}})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,194)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root")),M()}},[[187,1,2]]]);
//# sourceMappingURL=main.c4162506.chunk.js.map
(this["webpackJsonpnational-park-planner"]=this["webpackJsonpnational-park-planner"]||[]).push([[0],{136:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(21),s=n.n(r),o=(n(64),n(6)),i=(n(65),n(14)),j=n(5),l=(n(66),n(33)),u=n.n(l),d=n.p+"static/media/parks-collage.e8209b12.png",p=n(3);var b=function(e){var t=e.user;return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("div",{className:"welcome",children:Object(p.jsxs)("p",{children:[t.username,", welcome to your National Park Planner!"]})}),Object(p.jsx)(i.b,{to:"/parks-page",children:Object(p.jsxs)("div",{className:"begin-exploring",children:[Object(p.jsx)("img",{src:d}),Object(p.jsx)("div",{className:"overlay-text",children:Object(p.jsx)("h1",{children:"Begin Exploring"})})]})})]})};function O(e){var t=e.signup,n=e.login,a=Object(c.useState)(""),r=Object(o.a)(a,2),s=r[0],i=r[1],j=Object(c.useState)(""),l=Object(o.a)(j,2),u=l[0],d=l[1],b=Object(c.useState)(""),O=Object(o.a)(b,2),h=O[0],g=O[1],f=Object(c.useState)(""),x=Object(o.a)(f,2),m=x[0],v=x[1];return Object(p.jsxs)("div",{className:"login",children:[Object(p.jsx)("div",{className:"title",children:Object(p.jsx)("h1",{children:"National Parks Planner"})}),Object(p.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),n(s,u)}(e)},children:[Object(p.jsx)("input",{placeholder:"username",type:"text",value:s,onChange:function(e){return i(e.target.value)}}),Object(p.jsx)("input",{placeholder:"password",type:"text",value:u,onChange:function(e){return d(e.target.value)}}),Object(p.jsx)("button",{type:"submit",children:"Login"})]}),Object(p.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(h,m)}(e)},children:[Object(p.jsx)("input",{placeholder:"username",type:"text",value:h,onChange:function(e){return g(e.target.value)}}),Object(p.jsx)("input",{placeholder:"password",type:"text",value:m,onChange:function(e){return v(e.target.value)}}),Object(p.jsx)("button",{type:"submit",children:"Create Account"})]})]})}var h=function(e){var t=e.park,n=e.viewCampgrounds,c=e.viewToDos;return Object(p.jsxs)("div",{className:"park-card",children:[Object(p.jsx)("img",{width:"200",src:t.images[0].url}),Object(p.jsx)("h2",{children:t.fullName}),Object(p.jsxs)("h3",{children:[t.addresses[0].city,", ",t.addresses[0].stateCode]}),Object(p.jsx)(i.b,{to:"/campgrounds-page",children:Object(p.jsx)("button",{id:t.parkCode,onClick:function(e){return n(e.target.id)},children:"View Campgrounds"})}),Object(p.jsx)(i.b,{to:"/todos-page",children:Object(p.jsx)("button",{id:t.parkCode,onClick:function(e){return c(e.target.id)},children:"View ToDos"})})]})};var g=function(e){var t=e.parks,n=e.viewCampgrounds,c=e.viewToDos;return Object(p.jsx)("div",{className:"parks-page",children:t.map((function(e){return Object(p.jsx)(h,{park:e,viewCampgrounds:n,viewToDos:c},e.id)}))})},f=n(17),x=n.n(f);var m=function(){var e=Object(c.useState)(new Date),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(new Date),s=Object(o.a)(r,2),i=s[0],j=s[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:"Start Date:"}),Object(p.jsx)(x.a,{selected:n,selectsStart:!0,startDate:n,endDate:i,onChange:function(e){return a(e)}}),Object(p.jsx)("p",{children:"End Date:"}),Object(p.jsx)(x.a,{selected:i,selectsEnd:!0,startDate:n,endDate:i,minDate:n,onChange:function(e){return j(e)}})]})};var v=function(e){var t=e.campground;return Object(p.jsxs)("div",{className:"cg-card",children:[Object(p.jsx)("img",{width:"200",src:t.images[0].url}),Object(p.jsx)("h2",{children:t.name}),Object(p.jsx)("p",{children:t.description}),Object(p.jsxs)("p",{children:["Total Sites: ",t.campsites.totalSites]}),Object(p.jsx)("h4",{children:"Add to Itinerary: "}),Object(p.jsx)(m,{})]})};var k=function(e){var t=e.parkCampgrounds;return Object(p.jsx)("div",{className:"cgs-page",children:t.map((function(e){return Object(p.jsx)(v,{campground:e},e.id)}))})};var S=function(){var e=Object(c.useState)(new Date),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(p.jsx)(x.a,{selected:n,onChange:function(e){return a(e)}})};var w=function(e){var t=e.toDo;return Object(p.jsxs)("div",{className:"todo-card",children:[Object(p.jsx)("img",{width:"200",src:t.images[0].url}),Object(p.jsx)("h1",{children:t.title}),Object(p.jsx)("p",{children:t.shortDescription}),Object(p.jsx)("h4",{children:"Add to Itinerary: "}),Object(p.jsx)(S,{})]})};var C=function(e){var t=e.parkToDos;return Object(p.jsxs)("div",{className:"todos-page",children:[console.log("TODOS PAGE",t),t.map((function(e){return Object(p.jsx)(w,{toDo:e},e.id)}))]})};var N=function(){var e="https://backend-national-park-planner.herokuapp.com/";console.log("production");var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)({}),l=Object(o.a)(s,2),d=l[0],h=l[1],f=Object(c.useState)([]),x=Object(o.a)(f,2),m=x[0],v=x[1],S=Object(c.useState)([]),w=Object(o.a)(S,2),N=w[0],D=w[1],y=Object(c.useState)([]),P=Object(o.a)(y,2),T=P[0],E=P[1],I=Object(c.useState)([]),A=Object(o.a)(I,2),U=A[0],V=A[1],F=Object(c.useState)([]),B=Object(o.a)(F,2),J=B[0],q=B[1];return Object(c.useEffect)((function(){u.a.get("".concat("https://developer.nps.gov/api/v1/parks?limit=465&","api_key=").concat("thkeeIt0BOw7KPpCHjwoESUud4rkQAqtiVJSqVUh")).then((function(e){v(e.data.data.filter((function(e){return"National Park"===e.designation})))}))}),[]),Object(c.useEffect)((function(){u.a.get("".concat("https://developer.nps.gov/api/v1/campgrounds?limit=642&","api_key=").concat("thkeeIt0BOw7KPpCHjwoESUud4rkQAqtiVJSqVUh")).then((function(e){return D(e.data.data)}))}),[]),Object(c.useEffect)((function(){u.a.get("".concat("https://developer.nps.gov/api/v1/thingstodo?limit=2500&","api_key=").concat("thkeeIt0BOw7KPpCHjwoESUud4rkQAqtiVJSqVUh")).then((function(e){V(e.data.data.filter((function(e){return void 0!==e.relatedParks[0]&&"National Park"===e.relatedParks[0].designation})))}))}),[]),Object(c.useEffect)((function(){var t=localStorage.getItem("jwt");console.log("token: "+t),fetch("".concat(e,"/profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){e.ok?e.json().then((function(e){r(!0),h(e.user),console.log("PROFILE",e.user)})):console.log("please log in")}))}),[]),Object(p.jsx)("div",{className:"app",children:a?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{className:"logout-button",onClick:function(){localStorage.clear(),h(null),r(!1)},children:"Logout"}),Object(p.jsxs)(i.a,{basename:"/national-park-planner",children:[Object(p.jsx)("div",{className:"select-page",children:Object(p.jsxs)("nav",{children:[Object(p.jsx)(i.b,{to:"/",children:"Home"}),Object(p.jsx)(i.b,{to:"/parks-page",children:"Parks"})]})}),Object(p.jsxs)(j.c,{children:[Object(p.jsx)(j.a,{exact:!0,path:"/",children:Object(p.jsx)(b,{user:d})}),Object(p.jsx)(j.a,{path:"/parks-page",children:Object(p.jsx)(g,{parks:m,viewCampgrounds:function(e){console.log("VIEWCAMPGROUNDS FUNCTION"),E(N.filter((function(t){return t.parkCode===e})))},viewToDos:function(e){console.log("VIEWTODOS FUNCTION"),q(U.filter((function(t){return t.relatedParks[0].parkCode===e})))}})}),Object(p.jsx)(j.a,{path:"/campgrounds-page",children:Object(p.jsx)(k,{parkCampgrounds:T})}),Object(p.jsx)(j.a,{path:"/todos-page",children:Object(p.jsx)(C,{parkToDos:J})})]})]})]}):Object(p.jsx)(O,{login:function(t,n){fetch("".concat(e,"/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(t),password:"".concat(n)}})}).then((function(e){e.ok?e.json().then((function(e){console.log(e.jwt),console.log("USER:",e.user),h(e.user),r(!0),localStorage.setItem("jwt",e.jwt)})):console.log("wrong username/password")}))},signup:function(t,n){fetch("".concat(e,"/users"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user:{username:"".concat(t),password:"".concat(n)}})}).then((function(e){e.ok?e.json().then((function(e){h(e.user),r(!0),localStorage.setItem("jwt",e.jwt)})):console.log("form incorrectly filled out")}))}})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),D()},64:function(e,t,n){},65:function(e,t,n){}},[[136,1,2]]]);
//# sourceMappingURL=main.549cfcd2.chunk.js.map